"use strict";function openTab(e){$(".tabContent").fadeOut(300,function(){$("#"+e).fadeIn()})}var apiRoot="http://localhost:8000",Grid=ReactBootstrap.Grid,Col=ReactBootstrap.Col,Row=ReactBootstrap.Row,Clearfix=ReactBootstrap.Clearfix,Button=ReactBootstrap.Button,Input=ReactBootstrap.Input,ButtonInput=ReactBootstrap.ButtonInput,App=React.createClass({displayName:"App",authenticate:function(){$.ajax({method:"POST",url:apiRoot+this.props.authURL,data:{username:"Brachamul",password:"purple14"},success:function(e){this.props.authToken="Token "+response.token,console.log(this.props.authToken)},error:function(e,t,a){console.error(this.props.url,t,a.toString())}})},render:function(){return React.createElement(LoginPage,null)}}),LoginPage=React.createClass({displayName:"LoginPage",render:function(){return React.createElement("div",{className:"loginPage"},React.createElement(Header,null),React.createElement(Grid,{fluid:!0}),React.createElement("div",{className:"container-fluid well"},React.createElement("div",{className:"row-fluid"},React.createElement(LoginForm,{title:"Connexion",titleLevel:1}))))}}),LoginForm=React.createClass({displayName:"LoginForm",login:function(e){e.preventDefault(),Auth.login(this.state.user,this.state.password)["catch"](function(e){console.log("Error logging in",e)})},render:function(){return React.createElement("form",{action:"/api-auth/login/",role:"form",method:"post"},React.createElement(Title,{title:this.props.title,titleLevel:this.props.titleLevel}),React.createElement("hr",null),React.createElement(Input,{name:"username",label:"Username:",type:"text",maxLength:"30",autoCapitalize:"off",autoCorrect:"off",required:!0,autofocus:""}),React.createElement(Input,{name:"password",label:"Password:",type:"text",maxLength:"72",autoCapitalize:"off",autoCorrect:"off",required:!0}),React.createElement(ButtonInput,{type:"submit",value:"Log in",bsStyle:"primary",block:!0}))}}),Title=React.createClass({displayName:"Title",propTypes:{title:React.PropTypes.string,titleLevel:React.PropTypes.number},render:function(){return 1==this.props.titleLevel?React.createElement("h1",null,this.props.title):2==this.props.titleLevel?React.createElement("h2",null,this.props.title):3==this.props.titleLevel?React.createElement("h3",null,this.props.title):4==this.props.titleLevel?React.createElement("h4",null,this.props.title):5==this.props.titleLevel?React.createElement("h5",null,this.props.title):6==this.props.titleLevel?React.createElement("h6",null,this.props.title):void 0}}),Brand=React.createClass({displayName:"Brand",render:function(){return React.createElement("div",{className:"brand"},React.createElement("i",{className:"fa fa-chevron-right"})," ",React.createElement("strong",null,"Élan Démocrate"))}}),Header=React.createClass({displayName:"Header",render:function(){return React.createElement("header",null,React.createElement(TopFrame,null),React.createElement("nav",{className:"tabFrame"},React.createElement("a",{className:"tabFrame__button active","data-target-tab":"projet"},React.createElement("i",{className:"tabFrame__button__icon fa fa-file-text"})),React.createElement("a",{className:"tabFrame__button","data-target-tab":"compass"},React.createElement("i",{className:"tabFrame__button__icon fa fa-compass"})),React.createElement("a",{className:"tabFrame__button","data-target-tab":"trending"},React.createElement("i",{className:"tabFrame__button__icon fa fa-hashtag"}))))}}),TopFrame=React.createClass({displayName:"TopFrame",render:function(){return React.createElement("div",{className:"topFrame"},React.createElement("div",{className:"topFrame__brand"},React.createElement(Brand,null)),React.createElement("a",{href:"#search",className:"topFrame__icon"},React.createElement("i",{className:"fa fa-search"})),React.createElement("a",{href:"#menu",className:"topFrame__icon"},React.createElement("i",{className:"fa fa-ellipsis-v"})))}}),Board=React.createClass({displayName:"Board",loadCardsFromServer:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,mimetype:"application/json",success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},getInitialState:function(){return{data:{results:[]}}},componentDidMount:function(){this.loadCardsFromServer(),setInterval(this.loadCardsFromServer,this.props.pollInterval)},render:function(){var e=this.state.data.results.map(function(e){return React.createElement(Card,{key:e.slug,title:e.title})});return React.createElement("div",{className:"board"},React.createElement("h2",{className:"board__title"},this.props.title),e)}}),Card=React.createClass({displayName:"Card",render:function(){return React.createElement("article",{className:"card"},React.createElement("h3",{className:"card__title"},this.props.title))}}),TagList=React.createClass({displayName:"TagList",render:function(){var e=this.props.data.map(function(e){return React.createElement("span",{className:"card__tag",slug:e.slug,key:e.slug},e.text)});return React.createElement("p",{className:"card__tags"},e)}}),PropositionForm=React.createClass({displayName:"PropositionForm",render:function(){return React.createElement("form",{id:"get-form",className:"pull-right"},React.createElement("fieldset",null,React.createElement("div",{className:"btn-group format-selection"},React.createElement("a",{className:"btn btn-primary js-tooltip",href:"/propositions/",rel:"nofollow",title:"Make a GET request on the Proposition List resource"},"GET"),React.createElement("button",{className:"btn btn-primary dropdown-toggle js-tooltip","data-toggle":"dropdown",title:"Specify a format for the GET request"},React.createElement("span",{className:"caret"})),React.createElement("ul",{className:"dropdown-menu"},React.createElement("li",null,React.createElement("a",{className:"js-tooltip format-option",href:"/propositions/?format=json",rel:"nofollow",title:"Make a GET request on the Proposition List resource with the format set to `json`"},"json")),React.createElement("li",null,React.createElement("a",{className:"js-tooltip format-option",href:"/propositions/?format=api",rel:"nofollow",title:"Make a GET request on the Proposition List resource with the format set to `api`"},"api"))))))}});ReactDOM.render(React.createElement(App,{authURL:"/obtain-auth-token/"}),document.getElementById("mainContent")),$(document).ready(function(){$(".tabFrame__button").click(function(){$(".tabFrame__button").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-target-tab");openTab(e)})});